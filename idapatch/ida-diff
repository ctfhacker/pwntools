#!/usr/bin/env python
import argparse
from diff import build_patch

if __name__ == '__main__':
    p = argparse.ArgumentParser(description="""
        Generates IDA-compatible patches for binaries.  Specify to input binaries
        of the same size.
    """)
    p.add_argument('file_a', type=argparse.FileType('rb'))
    p.add_argument('file_b', type=argparse.FileType('rb'))
    args = p.parse_args()


    print "This patch generated by pwntools"
    print
    print args.file_a.name
    print build_patch(args.file_a.read(), args.file_b.read())


